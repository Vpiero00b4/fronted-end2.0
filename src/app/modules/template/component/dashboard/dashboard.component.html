<div class="container-fluid p-4">

  <div class="d-flex flex-row justify-content-end gap-3">
    <!-- Card Comprobantes Emitidos -->
    <div class="card border-0 shadow-sm"
      style="min-width: 220px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
      <div class="card-body text-black">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="card-subtitle mb-2">COMPROBANTES</h6>
            <h4 class="card-title fw-bold mb-0">{{ resumenVentas?.totalComprobantesEmitidos || 0 }}</h4>
            <small class="opacity-75">Emitidos</small>
          </div>
          <i class="bi bi-receipt-cutoff display-5 opacity-50"></i>
        </div>
      </div>
    </div>

    <!-- Card Monto Total -->
    <div class="card border-0 shadow-sm"
      style="min-width: 220px; background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
      <div class="card-body text-black">
        <div class="d-flex justify-content-between align-items-center">
          <div>
            <h6 class="card-subtitle mb-2">MONTO TOTAL</h6>
            <h4 class="card-title fw-bold mb-0">{{ resumenVentas?.montoTotalComprobantes || 'S/ 0.00' }}</h4>
            <small class="opacity-75">Ventas totales</small>
          </div>
          <i class="bi bi-cash-stack display-5 opacity-50"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid py-4">
  <div class="row justify-content-center mb-4">
    <div class="col-12 text-center">
      <h2>PRODUCTOS MAS VENDIDOS DEL MES</h2>
    </div>
  </div>
  <!-- Filtros -->
  <div class="row justify-content-center mb-4">
    <div class="col-md-8">
      <div class="d-flex gap-3 justify-content-center">
        <input type="number" [(ngModel)]="mes" placeholder="Mes (1-12)" class="form-control" style="width: 150px;">
        <input type="number" [(ngModel)]="anio" placeholder="Año" class="form-control" style="width: 150px;">
        <button (click)="cargarDatos()" class="btn btn-primary">Filtrar</button>
      </div>
    </div>
  </div>

  <!-- Gráfico centrado -->
  <div class="row justify-content-center">
    <div class="col-12">
      <div class="card shadow">
        <div class="card-body">
          <h4 class="card-title text-center mb-4">Productos Más Vendidos</h4>
          <div style="position: relative; height: 400px; overflow-x: auto;">
            <canvas baseChart [data]="barChartData" [options]="barChartOptions" [type]="barChartType">
            </canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-tasa-rotacion></app-tasa-rotacion>