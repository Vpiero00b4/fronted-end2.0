<div class="container-fluid p-4">
  <div class="row g-3">

    <!-- Card Comprobantes Emitidos -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm rounded-4 text-white"
        style="background: linear-gradient(135deg, #4facfe 0%, #1849a3 100%);">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h6 class="card-subtitle mb-2">COMPROBANTES</h6>
              <h3 class="fw-bold mb-0">{{ resumenVentas?.totalComprobantes || 0 }}</h3>
              <small class="opacity-75">Emitidos</small>
            </div>
            <i class="bi bi-receipt-cutoff fs-1 opacity-75"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Monto Total -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm rounded-4 text-white"
        style="background: linear-gradient(135deg, #43e97b 0%, #187060 100%);">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h6 class="card-subtitle mb-2">MONTO TOTAL</h6>
              <h3 class="fw-bold mb-0">{{ resumenVentas?.montoTotal || 'S/ 0.00' }}</h3>
              <small class="opacity-75">Ventas totales</small>
            </div>
            <i class="bi bi-cash-stack fs-1 opacity-75"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Boletas -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm rounded-4 text-white"
        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h6 class="card-subtitle mb-2">BOLETAS</h6>
              <h3 class="fw-bold mb-0">{{ resumenVentas?.totalBoletas || 0 }}</h3>
              <small class="opacity-75">Emitidos</small>
            </div>
            <i class="bi bi-receipt fs-1 opacity-75"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Monto Boletas -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm rounded-4 text-white"
        style="background: linear-gradient(135deg, #11998e 0%, #13aa4d 100%);">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h6 class="card-subtitle mb-2">MONTO BOLETAS</h6>
              <h3 class="fw-bold mb-0">{{ resumenVentas?.montoTotalBoletas || 'S/ 0.00' }}</h3>
              <small class="opacity-75">Ventas totales</small>
            </div>
            <i class="bi bi-cash fs-1 opacity-75"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Facturas -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm rounded-4 text-white"
        style="background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h6 class="card-subtitle mb-2">FACTURAS</h6>
              <h3 class="fw-bold mb-0">{{ resumenVentas?.totalFacturas || 0 }}</h3>
              <small class="opacity-75">Emitidos</small>
            </div>
            <i class="bi bi-receipt-cutoff fs-1 opacity-75"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Monto Facturas -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm rounded-4 text-white"
        style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h6 class="card-subtitle mb-2">MONTO FACTURAS</h6>
              <h3 class="fw-bold mb-0">{{ resumenVentas?.montoTotalFacturas || 'S/ 0.00' }}</h3>
              <small class="opacity-75">Ventas totales</small>
            </div>
            <i class="bi bi-cash-stack fs-1 opacity-75"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Notas -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm rounded-4 text-white"
        style="background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h6 class="card-subtitle mb-2">NOTAS</h6>
              <h3 class="fw-bold mb-0">{{ resumenVentas?.totalNotas || 0 }}</h3>
              <small class="opacity-75">Emitidos</small>
            </div>
            <i class="bi bi-receipt fs-1 opacity-75"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Card Monto Notas -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card border-0 shadow-sm rounded-4 text-white"
        style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <h6 class="card-subtitle mb-2">MONTO NOTAS</h6>
              <h3 class="fw-bold mb-0">{{ resumenVentas?.montoTotalNotas || 'S/ 0.00' }}</h3>
              <small class="opacity-75">Ventas totales</small>
            </div>
            <i class="bi bi-cash fs-1 opacity-75"></i>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

<app-pago-component></app-pago-component>

<div class="container-fluid py-4">
  <!-- üè∑Ô∏è T√≠tulo -->
   <P>-</P>
  <div class="row justify-content-center mb-4">
    <div class="col-12 text-center">
      <h2 class="fw-bold text-black">
        <i class="bi bi-bar-chart-fill text-primary me-2"></i>
        Productos M√°s Vendidos del Mes
      </h2>
      <p class="instruccion-text mt-2">
        Selecciona mes y a√±o para actualizar los resultados
      </p>
    </div>
  </div>

  <!-- üîé Filtros -->
  <div class="row justify-content-center mb-4">
    <div class="col-md-6">
      <div class="card shadow-sm border-0 rounded-3 p-3">
        <div class="d-flex gap-3 justify-content-center flex-wrap">

          <!-- Mes -->
          <div>
            <label class="form-label fw-semibold small text-muted">Mes</label>
            <select [(ngModel)]="mes" (ngModelChange)="cargarDatos()" class="form-select">
              <option *ngFor="let m of meses; let i = index" [value]="i + 1">
                {{ m }}
              </option>
            </select>
          </div>

          <!-- A√±o -->
          <div>
            <label class="form-label fw-semibold small text-muted">A√±o</label>
            <input type="number" [(ngModel)]="anio" (ngModelChange)="cargarDatos()" class="form-control">
          </div>

        </div>
      </div>
    </div>
  </div>
</div>


<!-- Gr√°fico centrado -->
<div class="row justify-content-center">
  <div class="col-12">
    <div class="card shadow">
      <div class="card-body">
        <h4 class="card-title text-center mb-4">Productos M√°s Vendidos</h4>
        <div style="position: relative; height: 400px; overflow-x: auto;">
          <canvas baseChart [data]="barChartData" [options]="barChartOptions" [type]="barChartType">
          </canvas>
        </div>
      </div>
    </div>
  </div>
</div>


<app-tasa-rotacion></app-tasa-rotacion>